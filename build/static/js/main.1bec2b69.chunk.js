(this["webpackJsonpnotes-frontend"]=this["webpackJsonpnotes-frontend"]||[]).push([[0],{15:function(e,t,n){e.exports=n(38)},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(14),c=n.n(r),l=n(4),u=n(2),i=function(e){var t=e.note,n=e.toggleImportance;console.log("NOTE COMPONENT: ",t);var o=t.important?"Make not important":"Make important";return a.a.createElement("li",{className:"note"},t.content,a.a.createElement("br",null),a.a.createElement("button",{onClick:n},o))},s=n(3),m=n.n(s),f=function(){var e=m.a.get("/api/notes"),t={id:1e3,content:"Non existing note",date:"2019-05-30T19:20:14.298Z",important:!0};return e.then((function(e){return e.data.concat(t)}))},p=function(e){return m.a.post("/api/notes",e).then((function(e){return e.data}))},d=function(e,t){return m.a.put("".concat("/api/notes","/").concat(e),t).then((function(e){return e.data}))},g=function(e){var t=e.message;return null===t?null:a.a.createElement("div",{className:"error"},t)},E=function(){return a.a.createElement("div",{style:{color:"green",fontStyle:"italic",fontSize:16}},a.a.createElement("br",null),a.a.createElement("em",null,"The Note App."))},b=function(){var e=Object(o.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(o.useState)(""),s=Object(u.a)(c,2),m=s[0],b=s[1],v=Object(o.useState)(!0),h=Object(u.a)(v,2),O=h[0],j=h[1],S=Object(o.useState)(""),N=Object(u.a)(S,2),k=N[0],T=N[1];Object(o.useEffect)((function(){console.log("Enter useEffect"),f().then((function(e){console.log("After Response from Promise"),r(e)}))}),[]),console.log("Render",n.length,"notes:");var y=O?n:n.filter((function(e){return!0===e.important}));return a.a.createElement("div",null,a.a.createElement("h1",null,"Notes (Object in Note.js)"),a.a.createElement(g,{message:k}),a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){return j(!O)}},"Show ",O?"Important":"All")),a.a.createElement("ul",null,y.map((function(e){return a.a.createElement(i,{key:e.id,note:e,toggleImportance:function(){return function(e){console.log("Importance of ".concat(e," needs to be toggled"));var t=n.find((function(t){return t.id===e})),o=Object(l.a)(Object(l.a)({},t),{},{important:!t.important});d(e,o).then((function(t){r(n.map((function(n){return n.id!==e?n:t})))})).catch((function(o){T("The note '".concat(t.content,"' was already removed from server.")),setTimeout((function(){T(null)}),5e3),r(n.filter((function(t){return t.id!==e})))}))}(e.id)}})}))),a.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log("Button Clicked",e.target);var t={content:m,date:new Date,important:Math.random()<.5};p(t).then((function(e){console.log("POST response: ",e),r(n.concat(e)),b("")}))}},a.a.createElement("input",{value:m,onChange:function(e){console.log(e.target.value),b(e.target.value)}}),a.a.createElement("button",{type:"submit"},"Save")),a.a.createElement(E,null))};n(37);c.a.render(a.a.createElement(b,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.1bec2b69.chunk.js.map